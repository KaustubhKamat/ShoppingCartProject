package com.niit.shoppingcart;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import com.niit.shoppingcart.DAO.UserDAO;
import com.niit.shoppingcart.model.User1;

public class TestUserDAO {

	
@Autowired//injects the automatic instance so we can call the methods
UserDAO userDAO;

@Autowired
User1 user;

@Autowired
AnnotationConfigApplicationContext context;//context is a bean factory

public TestUserDAO(){
	context=new AnnotationConfigApplicationContext();
	//specify in which package you defined the classes.So to do this we use scan
	context.scan("com.niit.shoppingcart");//scan will read all the classes that are defined in the particular package
	//and will create instance of the class automatically.
	context.refresh();//if any instances are present in the context then it will clear all the instances and create new
	
	//Now ask the context to get the instance by using below method
	
	userDAO= (UserDAO) context.getBean("UserDAO");//it will get the instance of UserDAO. we need to type cast that
	
	user= (User1) context.getBean("user");//it will get the instance of user. we need to type cast that
}

}
